<!DOCTYPE html>
<html>

<head>
    <!-- jQuery -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <!-- toastr v2.1.4 -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/2.1.4/toastr.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/2.1.4/toastr.min.js"></script>

    <!-- CSS -->
    <link rel="stylesheet" href="./CSS/basicCSS.css" type="text/css">
    <link rel="stylesheet" href="./CSS/indexCSS.css" type="text/css">

    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>TunaWei餐廳訂位網</title>
</head>

<body onload="memberStatus()">
    <div>
        <div class="icon-bar">
            <a href="index.html">
                <img id="home_img" src="./Icon/home.png" alt="首頁">
                <span class="" id="home"></span>
            </a>
            <a href="login.html">
                <img id="login_img" src="./Icon/user.png" alt="會員登入">
                <span class="" id="member"></span>
            </a>
        </div>
        <img id="index_img" src="./Image/rumman-amin-nKs-oXRGGEg-unsplash.jpg" alt="首頁圖">
        <div class="textContent">
            <a href="introduction.html">
                <button class="text">TunaWei餐廳介紹</button>
            </a>
            <a href="service.html">
                <button class="text">立即預約</button>
            </a>
            <a href="<c:url value='memberShipCenter'/>">
                <button class="text">會員中心</button>
            </a>

        </div>
    </div>
    <div class="textContent">
        <a href="https://www.flaticon.com/free-icons/user" title="user icons">User icons created by Freepik -
            Flaticon</a>
        <a href="https://www.flaticon.com/free-icons/home-button" title="home button icons">Home button icons created by
            Freepik - Flaticon</a>
    </div>

    <script>
        function memberStatus() {

            var userData = sessionStorage.getItem("userData")
            if (userData == null) {
                toastr.options = {
                    "newestOnTop": false,
                    "progressBar": true,
                    "positionClass": "toast-bottom-left",
                    "showDuration": "300",
                    "hideDuration": "1000",
                    "timeOut": "5000",
                    "extendedTimeOut": "3000"
                }

                toastr.info('userData暫存沒有東西');

            } else {
                toastr.options = {
                    "newestOnTop": false,
                    "progressBar": true,
                    "positionClass": "toast-bottom-left",
                    "showDuration": "300",
                    "hideDuration": "1000",
                    "timeOut": "5000",
                    "extendedTimeOut": "3000"
                }

                toastr.success(userData, "通知")
                //清除userData的暫存以免後續回到此頁面會跳出不合當下狀況的通知
                var userData = sessionStorage.removeItem("userData")

            }
        }	
    </script>

    <script>
        if (UserNameCheck = "${username}") {
            document.getElementById("member").innerText = "你好:" + "${username}";
        } else {
            document.getElementById("member").innerText = "登入/註冊";
        }
    </script>

</body>

</html>